<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Aplicativo</title>
</head>

<body>

  <button id="login" onclick="user.login()">Entrar</button>


  <script>/*
Esse é o código JavaScript dessa página.
*/


    var name = "Joca da Silva"
    var email = "joca@silva.com"
    var birth = "2003-03-18"
    var cpf = "012.345.678-90"
    var address = "Rua do Siri Molhado, 22"

    //Dados do usuário. Forma moderna! Usando notação de objetos.
    var user = {

      //Atributos do objeto "user"
      name: "Joca da Silva",
      email: "joca@silva.com",
      birth: "2003-03-18",
      cpf: "012.345.678-90",
      password: "12345",
      address: "Rua do Siri Molhado, 22",
      photo: 'https://randomuser.me/api/portraits/lego/6.jpg',

      
      //Métodos do objeto "user".
      login: function () {

      //Recebe o email do prompt e armazena.
        var userEmail = prompt("Digite seu email")
      //Se o usuário não digitou nada...
        if(userEmail == "" || userEmail == null) {
          alert("Ooops! Você não informou um email válido")

      // Encerra a funçao retornando false
      return false
        }else if(userEmail != user.email){
          alert("Oooops! Email não cadastrado")
          return false
        }
        
      // Digite a senha.
      var userPass = prompt("digite sua senha:")
      if (userPass == "" || userPass == null) {
          alert("Ooooops! Você não informou a senha")
      
      //Encerra a função retornando false.
      return false
    } else if (userPass != user.password) {
                    alert('Oooops! Senha incorreta...')
                    return false
                }

                document.write('<img src="' + user.photo + '"> Olá ' + user.name + '!')
                localStorage.userdata = JSON.stringify({
                    name: user.name,
                    email: user.email
                })
                let parts = user.birth.split('-')
                let bdate = parts[2] + '/' + parts[1] + '/' + parts[0]
                document.write(' Nascido em ' + bdate)

            },
            firstName: function () {
                alert(this.name.split(' ')[0])
            }
        }

      //Chama a função de login.
    //user.login()



  </script>
</body>

</html>